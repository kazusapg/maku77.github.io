---
title: "複数バージョンの Ruby をインストールする (RVM)"
date: "2012-01-28"
---

**RVM (Ruby Version Manager)** というツールを使うと、簡単に複数バージョンの Ruby を切り替えて使用できるようになります。

RVM のインストール
====
まずは RVM 本家のスクリプトを使って RVM をインストールします。
コマンド一発でインストールする方法が、本家のサイトに書いてあります。

* https://rvm.io/  （2015-11-21 アドレス更新）

記述されている通り実行すると、`rvm` コマンドが使えるようになります（正確には、自動で修正された `~/.bash_profile` を再読み込みする必要があるかもしれません）。


RVM を使って複数の Ruby をインストールする
====

```
$ rvm list known
```

とすると、インストールできる Ruby のバージョンが一覧表示されます。
ここでは、Ruby 1.8.7 と Ruby 1.9.3 をインストールしてみます。
ソースコードからインストールするので数分かかります。

```
$ rvm install 1.8.7
$ rvm install 1.9.3
```

既に Ruby 1.8.7 (`/usr/bin/ruby`) がインストールされている場合でも、**RVM で管理する Ruby は別物としてインストールする**必要があります。
RVM でインストールされた Ruby は、`$HOME/.rvm/rubies` の下にバージョンごとに格納されていきます。


使用する Ruby のバージョンを切り替える
====
複数の Ruby がインストールされている場合は、使用するバージョンを選択しておきます。
RVM で管理されている Ruby のバージョンは以下のように `rvm list` コマンドで確認できます。

```
$ rvm list
rvm rubies

   ruby-1.8.7-p357 [ i686 ]
=* ruby-1.9.3-p0 [ x86_64 ]
```

使用する Ruby のバージョンを切り替えるには以下のように `ruby use` コマンドでバージョンを指定します。

```
$ rvm use 1.9.3
$ rvm use 1.9.3 --default   # Default version for new shells
```

デフォルトで使用するバージョンを切り替えておけば、Aptana などの総合開発環境で使用する Ruby のバージョンも切り替わってくれます。


---
title: "Go 言語のコーディングスタイル（コーディング規約）"
created: 2017-08-30
description: "Go 言語には、標準のコーディング規約が用意されています。"
---

Go 言語のコーディング規約
----

Go 言語におけるコーディングスタイルは、下記のドキュメントが参考になるでしょう。

- [Effective Go - The Go Programming Language](https://golang.org/doc/effective_go.html#formatting)

ポイントを簡単にまとめておきます。

* **インデントにはハードタブ（タブ文字）を使用**し、ソフトタブ（半角スペース）を使用しない。
* １行あたりの文字数に制限はない。もちろん、長すぎる場合は改行してもよい。
* 連続した変数定義やコメントは縦に揃える
~~~ go
type T struct {
    name    string // name of the object
    value   int    // its value
}
~~~
* 演算子の優先順位を利用して括弧を省略できる場合には、余計な括弧を使わない。
~~~ go
x<<8 + y<<16
~~~

というように、いくつかのフォーマットルールがあるのですが、Go には下記のような自動整形ツールが付属しているので、これを実行して自動で整形してしまうのが手っ取り早いです。


コードを自動整形する
----

Go 言語には、コーディング規約に従ってコードを自動整形するためのツール (`go fmt`) が標準で搭載されています。

~~~
$ go fmt sample.go
~~~

上記のように実行すると、`sample.go` ファイルの内容が整形されて書き換えられます。
元のソースコードが直接変更されることに注意してください。

元のソースコードを書き換えずに、標準出力へ整形結果を出力したい場合は、`go fmt` の代わりに `gofmt` コマンドを使用します。

~~~
$ gofmt sample.go
package main

import "fmt"

func main() {
	fmt.Println("Hello Go")
}
~~~


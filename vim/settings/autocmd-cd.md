---
title: "開いたファイルがあるディレクトリをカレントディレクトリにする"
date: "2013-06-16"
lastmod: "2020-05-29"
---

（追記） [autochdir オプション](./autochdir.html) が使える Vim であればそちらを使った方が簡単です。

Vim で `:e` コマンドなどによって新しくファイルをオープンすると、デフォルトでは Vim を起動したときに指定したファイルのディレクトリがカレントディレクトリになります。
その後、Vim 内で別のファイルを開いたときに、そのファイルの存在するディレクトリへ自動的に移動したい場合は、下記の設定をしておきます。

#### ~/.vimrc

~~~
" 開いたファイルのあるディレクトリをカレントディレクトリに
au BufEnter * execute ":lcd " . expand("%:p:h")
~~~


---
title: ハッシュの基本
created: 2011-10-07
---

ハッシュとは
----

ハッシュ (`Hash`) は、キーと値のペアを格納するコレクションであり、配列 (`Array`) と似ていますが、任意の型のオブジェクトをキーとすることができます。


空のハッシュを作成する
----

Ruby でハッシュを生成するときは `{}` を使用します（配列を生成するときは `[]` を使用します）。

```ruby
my_hash = {}
my_hash = Hash.new
```


初期値を与えてハッシュを作成する
----

ハッシュを生成するときに、キーと値のペアを `=>` で並べて指定することで、ハッシュの初期値を設定することができます。

```ruby
person_info = {
  'name' => 'makkuma',
  'age'  => 100,
  'mail' => 'makkuma@example.com'
}
```

一行で記述する事もできます。

```ruby
my_hash = {'key1' => 'val1', 'key2' => 'val2'}
```

上記では、文字列をキーとしてハッシュを扱っていますが、別の型のオブジェクトをキーとして扱うこともできます。


ハッシュ要素の参照
----

ハッシュの要素を参照するときは、配列の要素を参照するときと同様に `[]` を使用します。

```ruby
puts person_info['name']  #=> "makkuma"
person_info['age'] = 200
```

存在しないキーで値を取得しようとすると、`nil` が返されます。

```ruby
puts person_info['xxx']  #=> nil
```


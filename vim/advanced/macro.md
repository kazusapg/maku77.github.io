---
title: キーボードマクロを記録して一連のキー入力を繰り返し実行する
date: "2007-03-12"
---

ノーマルモードで `q` を入力するとキーボードマクロの記録モードに入ります。
最初に保存先のレジスタ名称（`a-zA-Z0-9` のうち一文字）を入力し、記録させたいテキスト入力を行うと、そのレジスタにマクロとして登録されます。
最後にノーマルモードで再び `q` を入力すると、キーボードマクロの記録モードが終了します。

~~~
qa    # マクロ記録開始（q の後ろは a-zA-Z0-9 のいずれか一文字）
q     # マクロ記録終了
@a    # マクロ実行（q の後ろは a-zA-Z0-9 のいずれか一文字）
~~~

登録したキーボードマクロを再生したいときは、`@` に続けてレジスタ名を入力します。

#### 例: 行頭に "// " を挿入するキーボードマクロを記録（C++ のコメント）

~~~
qaI// <Esc>q    # 記録
@a              # 再生
~~~

`@a` などでマクロを再生した後に、さらに続けて同じマクロを実行したい場合は、`@a` を入力するのではなく、`.`（ドット）で繰り返し実行するのが簡単です。


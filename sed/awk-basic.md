---
title: awk の基本的な使い方
created: 2007-12-19
layout: sed
---

「手続き」だけを指定する方法
====

```awk
$ awk '{print $1}' input.txt
```

上記のように、命令部分に `print` のような「手続き」だけを指定した場合は、すべての行に対してその手続きが適用されます。
この例では、`input.txt` ファイル内のすべての行から 1 番目のフィールドを抜き出します。


「パターン」だけを指定する方法
====

```awk
$ awk '/ABC/' input.txt
```

上記のように、命令部分に「パターン」だけを指定して「手続き」を省略した場合は、デフォルトの動作として、パターンに一致する行をすべて表示します。
この例では、`ABC` という文字列を含むすべての行を出力します。

以下のように実行しても、同様の結果が得られます。
`$0` はパターンに一致した行全体のテキストを表しています。

```awk
$ awk '/ABC/ {print $0}' input.txt
```

この単純な例は、下記のような grep の動作と同じ結果が得られます。

```awk
$ grep 'ABC' input.txt
```


「パターン」と「手続き」の両方を指定する方法
====

```awk
$ awk '/ABC/ {print $3}' input.txt
```

この例では、`ABC` という文字列を含む行の、3 番目のフィールドをすべて出力します。


スクリプトファイルを指定する方法
====

awk スクリプトが長くなってきた場合は、スクリプトファイルに保存しておくと便利です。
下記の例では script という awk スクリプトファイルを実行しています。

```
$ awk -f script input.txt
```


フィールド・セパレータを変更する
====

awk は、デフォルトのフィールド・セパレータとして空白やタブを使用します。
このセパレータを変更するには、`-F` オプションを使用します。

#### 例: フィールド・セパレータをカンマ (,) に変更

```awk
$ awk -F, input.txt
```

